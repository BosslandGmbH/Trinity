<UserControl 
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:ut="clr-namespace:Trinity.UIComponents"
             mc:Ignorable="d" Foreground="{DynamicResource TextBrush}" Background="#434343"
             MinHeight="470" MinWidth="432">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Template.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <ut:BoolToVisibilityConverter x:Key="VisibleWhenTrueConverter" TrueValue="Visible" FalseValue="Collapsed"/>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <TabControl>
            <TabItem Header="Combat" Foreground="{DynamicResource TextBrush}">
                <Border Tag="ConfigCombat.xaml"/>
            </TabItem>
            <TabItem Header="Objects" Foreground="{DynamicResource TextBrush}">
                <Border Tag="ConfigObjects.xaml"/>
            </TabItem>
            <TabItem Header="Items" Foreground="{DynamicResource TextBrush}">
                <Border Tag="ConfigItems.xaml"/>
            </TabItem>
            <TabItem Header="Advanced" Foreground="{DynamicResource TextBrush}">
                <Border Tag="ConfigAdvanced.xaml"/>
            </TabItem>
            <TabItem Header="Debug" Foreground="{DynamicResource TextBrush}" Visibility="{Binding Path=DebugVisibility}">
                <Border Tag="DebugTab.xaml"/>
            </TabItem>
            <TabItem Header="Avoidance" Foreground="{DynamicResource TextBrush}" Visibility="{Binding Advanced.UseExperimentalAvoidance, Converter={StaticResource VisibleWhenTrueConverter}}">
                <Border Tag="Avoidance.xaml"/>
            </TabItem>
            <TabItem Header="Paragon" Foreground="{DynamicResource TextBrush}">
                <Border Tag="Paragon.xaml"/>
            </TabItem>
        </TabControl>
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition Width="2*" />
                <ColumnDefinition />
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Button Grid.Column="1" Command="{Binding ResetAllCommand}" Margin="4">Reset all settings</Button>
            <Button Grid.Column="3" Command="{Binding SaveCommand}" Margin="4">Save settings</Button>
        </Grid>
    </Grid>
</UserControl>
